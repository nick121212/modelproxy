{"version":3,"sources":["webpack://modelproxy/webpack/universalModuleDefinition","webpack://modelproxy/webpack/bootstrap","webpack://modelproxy/./node_modules/tslib/tslib.es6.js","webpack://modelproxy/./src/libs/base.factory.ts","webpack://modelproxy/./src/libs/compose.ts","webpack://modelproxy/./src/libs/errors.ts","webpack://modelproxy/./src/libs/engine.factory.ts","webpack://modelproxy/./src/engines/engine.base.ts","webpack://modelproxy/./src/engines/engine.def.ts","webpack://modelproxy/./src/engines/engine.cache.ts","webpack://modelproxy/(webpack)/buildin/global.js","webpack://modelproxy/./node_modules/url-search-params/build/url-search-params.node.js","webpack://modelproxy/./node_modules/.0.0.1@isarray/index.js","webpack://modelproxy/./node_modules/.1.7.0@path-to-regexp/index.js","webpack://modelproxy/./src/libs/interface.factory.ts","webpack://modelproxy/./src/libs/proxy.ts","webpack://modelproxy/./src/index.ts"],"names":["root","factory","exports","module","define","amd","modelproxy","window","t","installedModules","__webpack_require__","moduleId","i","l","threw","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","a","u","f","h","y","v","g","_","w","b","__webpack_exports__","__importDefault","extendStatics","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","__rest","indexOf","getOwnPropertySymbols","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","throw","result","done","then","apply","__generator","body","label","sent","trys","ops","verb","return","iterator","op","TypeError","pop","push","__exportStar","__values","__read","ar","error","__spread","concat","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","k","errors_1","BaseFactory","instances","add","intance","override","console","remove","has","use","engines","keys","ModelProxyMissingError","join","forEach","fn","Function","tslib_1","Compose","wares","_i","middlewares","slice","func","clear","compose","_this","isArray","_a","context","index","dispatch","e_1","Error","getMiddlewares","merge","errorHandle","ctx","err","isError","callback","complete","options","err_1","content","BaseError","message","stack","_super","base_factory_1","engine_def_1","engineFactory","DefaultEngine","pathToRegexp","URLSearchParams","compose_1","BaseEngine","validate","_instance","_options","delay","interval","setTimeout","proxy","instance","otherOptions","getPath","getStatePath","states","state","replacePath","_b","params","_c","data","paths","parse","path","token","getFullPath","url","searchParams","append","qs","toString","engine_base_1","doProxy","executeInfo","before","after","catch","promiseFactory","cacheDec","fetchPromise","fullPath","settings","cache","_d","reload","_e","expire","_f","method","proKey","_g","_h","promise","promiseInCache","_j","expireInCache","_k","cacheIn","Date","now","fromCache","eval","global","query","pairs","dict","secret","charAt","split","appendTo","decode","URLSearchParamsProto","find","plus","replace","!","'","(",")","~","%20","%00","replacer","match","Math","random","str","decodeURIComponent","encode","encodeURIComponent","delete","getAll","set","getOwnPropertyNames","toJSON","iterable","names","items","values","entries","sort","entry","arr","isarray","RegExp","groups","source","prefix","delimiter","optional","repeat","partial","asterisk","pattern","attachKeys","parts","flags","tokensToRegExp","compile","tokensToFunction","PATH_REGEXP","res","tokens","defaultDelimiter","exec","escaped","offset","capture","group","modifier","escapeGroup","escapeString","substr","encodeURIComponentPretty","encodeURI","charCodeAt","toUpperCase","encodeAsterisk","matches","obj","opts","pretty","segment","JSON","stringify","j","test","re","sensitive","strict","end","route","endsWithDelimiter","engine_factory_1","InterfaceFactory","custom","execute","getOne","post","put","engine","iinstance","extraInstance","engineName","defaultExecuteInfo","megreInstance","type","id","__id__","extendInstance","executeEngineMethod","methodFunc","interface_factory_1","ModelProxy","nsFactory","addEngines","loadConfig","config","overrideInterfaceConfig","initInterfaces","interfaces","getNs","executeAll","inters","maps","all","reduce","prev","race","map","inter","hasNs","minix","mixin","idKeys","lastKey","lastInterface","ids","idx","ifFactory","interModel","mockDir","proxy_1","engine_cache_1"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"modelproxy\"] = factory();\n\telse\n\t\troot[\"modelproxy\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar errors_1 = require(\"./errors\");\nvar BaseFactory = (function () {\n    function BaseFactory() {\n        this.instances = {};\n    }\n    BaseFactory.prototype.add = function (name, intance, override) {\n        if (override === void 0) { override = false; }\n        if (override && this.instances.hasOwnProperty(name)) {\n            return console.error(\"\\u5DF2\\u7ECF\\u5B58\\u5728name=\\u3010\" + name + \"\\u3011\\u7684engine\\uFF01\");\n        }\n        this.instances[name] = intance;\n    };\n    BaseFactory.prototype.remove = function (name) {\n        if (this.has(name)) {\n            delete this.instances[name];\n        }\n    };\n    BaseFactory.prototype.has = function (name) {\n        return !!this.get(name);\n    };\n    BaseFactory.prototype.get = function (name) {\n        if (this.instances.hasOwnProperty(name)) {\n            return this.instances[name];\n        }\n        return null;\n    };\n    BaseFactory.prototype.use = function (name) {\n        if (!name || !this.instances.hasOwnProperty(name)) {\n            var engines = Object.keys(this.instances);\n            throw new errors_1.ModelProxyMissingError(\"\\u4E0D\\u5B58\\u5728name=\\u3010\" + name + \"\\u3011\\u7684engine\\uFF01\\u5F53\\u524Dengines\\uFF1A\\u3010\" + engines.join(\",\") + \"\\u3011\");\n        }\n        return this.instances[name];\n    };\n    BaseFactory.prototype.forEach = function (fn) {\n        if (!fn || fn.constructor !== Function) {\n            return;\n        }\n        for (var key in this.instances) {\n            if (this.instances.hasOwnProperty(key)) {\n                var element = this.instances[key];\n                fn(key, element);\n            }\n        }\n    };\n    return BaseFactory;\n}());\nexports.BaseFactory = BaseFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Compose = (function () {\n    function Compose() {\n        var wares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            wares[_i] = arguments[_i];\n        }\n        this.middlewares = wares.slice();\n    }\n    Compose.prototype.use = function (func) {\n        if (typeof func !== \"function\") {\n            throw new TypeError(\"middleware must be a function\");\n        }\n        this.middlewares.push(func);\n    };\n    Compose.prototype.clear = function () {\n        this.middlewares.length = 0;\n    };\n    Compose.prototype.compose = function () {\n        var _this = this;\n        if (!Array.isArray(this.middlewares)) {\n            throw new TypeError(\"Middleware stack must be an array!\");\n        }\n        for (var _i = 0, _a = this.middlewares; _i < _a.length; _i++) {\n            var fn = _a[_i];\n            if (typeof fn !== \"function\") {\n                throw new TypeError(\"Middleware must be composed of functions!\");\n            }\n        }\n        return function (context, next) {\n            return new Promise(function (resolve, reject) {\n                var index = -1;\n                var dispatch = function (i) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                    var _this = this;\n                    var fn, e_1;\n                    return tslib_1.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                fn = this.middlewares[i];\n                                if (i <= index) {\n                                    return [2, reject(new Error(\"next() called multiple times\" + i + \"-\" + index))];\n                                }\n                                index = i;\n                                if (i === this.middlewares.length) {\n                                    fn = next;\n                                }\n                                if (!fn) {\n                                    return [2, context];\n                                }\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 3, , 4]);\n                                return [4, fn(context, function (key) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                                        return tslib_1.__generator(this, function (_a) {\n                                            switch (_a.label) {\n                                                case 0:\n                                                    if (key === \"abort\") {\n                                                        return [2, resolve(context)];\n                                                    }\n                                                    return [4, dispatch(i + 1)];\n                                                case 1:\n                                                    _a.sent();\n                                                    return [2];\n                                            }\n                                        });\n                                    }); })];\n                            case 2:\n                                _a.sent();\n                                return [3, 4];\n                            case 3:\n                                e_1 = _a.sent();\n                                reject(e_1);\n                                return [3, 4];\n                            case 4: return [2];\n                        }\n                    });\n                }); };\n                return dispatch(0).then(resolve.bind(context));\n            });\n        };\n    };\n    Compose.prototype.getMiddlewares = function () {\n        return this.middlewares.concat([]);\n    };\n    Compose.prototype.merge = function (c) {\n        var _this = this;\n        var middles = c.getMiddlewares();\n        middles.forEach(function (m) {\n            _this.use(m);\n        });\n        return this;\n    };\n    Compose.prototype.errorHandle = function (ctx, err) {\n        ctx.isError = true;\n        ctx.err = err;\n    };\n    Compose.prototype.callback = function (complete) {\n        var _this = this;\n        var fn = this.compose();\n        return function (options) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var _this = this;\n            var ctx, err_1;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        ctx = Object.assign(options || {}, {});\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4, fn(ctx, function (content, next) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                                return tslib_1.__generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4, next()];\n                                        case 1:\n                                            _a.sent();\n                                            if (ctx.isError) {\n                                                throw ctx.err;\n                                            }\n                                            return [2];\n                                    }\n                                });\n                            }); })];\n                    case 2:\n                        _a.sent();\n                        return [3, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        this.errorHandle(ctx, err_1);\n                        return [3, 4];\n                    case 4: return [2, ctx];\n                }\n            });\n        }); };\n    };\n    return Compose;\n}());\nexports.Compose = Compose;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar BaseError = (function () {\n    function BaseError(message) {\n        this.name = \"\";\n        this.message = message ? message : \"\";\n        this.stack = (new Error()).stack;\n    }\n    return BaseError;\n}());\nexports.BaseError = BaseError;\nvar ModelProxyMissingError = (function (_super) {\n    tslib_1.__extends(ModelProxyMissingError, _super);\n    function ModelProxyMissingError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.name = \"ModelProxy.MissingError\";\n        return _this;\n    }\n    return ModelProxyMissingError;\n}(BaseError));\nexports.ModelProxyMissingError = ModelProxyMissingError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_factory_1 = require(\"./base.factory\");\nvar engine_def_1 = require(\"../engines/engine.def\");\nexports.engineFactory = new base_factory_1.BaseFactory();\nexports.engineFactory.add(\"default\", new engine_def_1.DefaultEngine());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar pathToRegexp = require(\"path-to-regexp\");\nvar URLSearchParams = require(\"url-search-params\");\nvar compose_1 = require(\"../libs/compose\");\nvar errors_1 = require(\"../libs/errors\");\nvar BaseEngine = (function (_super) {\n    tslib_1.__extends(BaseEngine, _super);\n    function BaseEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseEngine.prototype.validate = function (_instance, _options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2, true];\n            });\n        });\n    };\n    BaseEngine.prototype.delay = function (interval) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        setTimeout(function () {\n                            resolve();\n                        }, interval);\n                    })];\n            });\n        });\n    };\n    BaseEngine.prototype.proxy = function (instance, options) {\n        var otherOptions = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            otherOptions[_i - 2] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                instance.getPath(options.instance);\n                return [2, {}];\n            });\n        });\n    };\n    BaseEngine.prototype.getStatePath = function (instance) {\n        if (instance.states && instance.state) {\n            return instance.states[instance.state] || \"\";\n        }\n        return \"\";\n    };\n    BaseEngine.prototype.replacePath = function (instance, _a) {\n        var _b = _a.params, params = _b === void 0 ? [] : _b, _c = _a.data, data = _c === void 0 ? {} : _c;\n        var tokens = pathToRegexp.parse(instance.path), paths = [];\n        tokens.forEach(function (token) {\n            var name = token.name;\n            if (!name) {\n                paths.push(token);\n            }\n            else {\n                if (!params[name] && !data[name]) {\n                    throw new errors_1.ModelProxyMissingError(\"\\u7F3A\\u5C11[\" + name + \"]\\u5B57\\u6BB5\\uFF01\");\n                }\n                paths.push(\"/\" + (params[name] || data[name]));\n                delete params[name];\n            }\n        });\n        return paths.join(\"\");\n    };\n    BaseEngine.prototype.getFullPath = function (instance, options) {\n        var url = [this.getStatePath(instance), this.replacePath(instance, options)], searchParams = new URLSearchParams();\n        if (options.params) {\n            Object.keys(options.params).forEach(function (key) {\n                searchParams.append(key, options.params[key]);\n            });\n            var qs = searchParams.toString();\n            if (qs) {\n                url.push(\"?\" + qs);\n            }\n        }\n        return url.join(\"\");\n    };\n    return BaseEngine;\n}(compose_1.Compose));\nexports.BaseEngine = BaseEngine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar engine_base_1 = require(\"./engine.base\");\nvar compose_1 = require(\"../libs/compose\");\nvar DefaultEngine = (function (_super) {\n    tslib_1.__extends(DefaultEngine, _super);\n    function DefaultEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultEngine.prototype.doProxy = function (instance, executeInfo) {\n        var otherOptions = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            otherOptions[_i - 2] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var c, before, after, error, ctx;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        c = new compose_1.Compose();\n                        before = executeInfo.before, after = executeInfo.after, error = executeInfo.error;\n                        if (before) {\n                            c.merge(before);\n                        }\n                        c.merge(this);\n                        if (after) {\n                            c.merge(after);\n                        }\n                        return [4, c.callback()(tslib_1.__assign({ executeInfo: executeInfo,\n                                instance: instance }, otherOptions))];\n                    case 1:\n                        ctx = _a.sent();\n                        if (!ctx.isError) return [3, 4];\n                        if (!error) return [3, 3];\n                        return [4, error.callback()(ctx).catch(function () { return void (0); })];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: throw ctx.err;\n                    case 4: return [2, ctx];\n                }\n            });\n        });\n    };\n    DefaultEngine.prototype.proxy = function (instance, executeInfo) {\n        var otherOptions = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            otherOptions[_i - 2] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2, this.doProxy.apply(this, [instance, executeInfo].concat(otherOptions))];\n            });\n        });\n    };\n    return DefaultEngine;\n}(engine_base_1.BaseEngine));\nexports.DefaultEngine = DefaultEngine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_factory_1 = require(\"../libs/base.factory\");\nexports.promiseFactory = new base_factory_1.BaseFactory();\nexports.cacheDec = function (fetchPromise, ctx, fullPath) {\n    var _a = ctx.executeInfo, executeInfo = _a === void 0 ? {} : _a, instance = ctx.instance;\n    var settings = executeInfo.settings;\n    var _b = settings || {}, _c = _b.cache, cache = _c === void 0 ? false : _c, _d = _b.reload, reload = _d === void 0 ? false : _d, _e = _b.expire, expire = _e === void 0 ? undefined : _e, _f = (instance || {}).method, method = _f === void 0 ? \"\" : _f, proKey = fullPath + method;\n    if (!cache) {\n        return fetchPromise();\n    }\n    if (reload) {\n        exports.promiseFactory.remove(proKey);\n    }\n    var dataInCache = exports.promiseFactory.get(proKey);\n    var _g = dataInCache || {}, _h = _g.promise, promiseInCache = _h === void 0 ? null : _h, _j = _g.expire, expireInCache = _j === void 0 ? null : _j, _k = _g.cacheIn, cacheIn = _k === void 0 ? 0 : _k;\n    if (expireInCache && cacheIn) {\n        if (cacheIn + expireInCache < Date.now()) {\n            exports.promiseFactory.remove(proKey);\n            promiseInCache = null;\n        }\n    }\n    if (promiseInCache) {\n        ctx.fromCache = true;\n        return promiseInCache;\n    }\n    var promise = fetchPromise();\n    exports.promiseFactory.add(proKey, { promise: promise, expire: expire, cacheIn: Date.now() });\n    return promise;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*!\nCopyright (C) 2015-2017 Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n'use strict';\n\nfunction URLSearchParams(query) {\n  var\n    index, key, value,\n    pairs, i, length,\n    dict = Object.create(null)\n  ;\n  this[secret] = dict;\n  if (!query) return;\n  if (typeof query === 'string') {\n    if (query.charAt(0) === '?') {\n      query = query.slice(1);\n    }\n    for (\n      pairs = query.split('&'),\n      i = 0,\n      length = pairs.length; i < length; i++\n    ) {\n      value = pairs[i];\n      index = value.indexOf('=');\n      if (-1 < index) {\n        appendTo(\n          dict,\n          decode(value.slice(0, index)),\n          decode(value.slice(index + 1))\n        );\n      } else if (value.length){\n        appendTo(\n          dict,\n          decode(value),\n          ''\n        );\n      }\n    }\n  } else {\n    if (isArray(query)) {\n      for (\n        i = 0,\n        length = query.length; i < length; i++\n      ) {\n        value = query[i];\n        appendTo(dict, value[0], value[1]);\n      }\n    } else {\n      for (key in query) {\n         appendTo(dict, key, query[key]);\n      }\n    }\n  }\n}\n\nvar\n  isArray = Array.isArray,\n  URLSearchParamsProto = URLSearchParams.prototype,\n  find = /[!'\\(\\)~]|%20|%00/g,\n  plus = /\\+/g,\n  replace = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  },\n  replacer = function (match) {\n    return replace[match];\n  },\n  secret = '__URLSearchParams__:' + Math.random()\n;\n\nfunction appendTo(dict, name, value) {\n  if (name in dict) {\n    dict[name].push('' + value);\n  } else {\n    dict[name] = isArray(value) ? value : ['' + value];\n  }\n}\n\nfunction decode(str) {\n  return decodeURIComponent(str.replace(plus, ' '));\n}\n\nfunction encode(str) {\n  return encodeURIComponent(str).replace(find, replacer);\n}\n\nURLSearchParamsProto.append = function append(name, value) {\n  appendTo(this[secret], name, value);\n};\n\nURLSearchParamsProto.delete = function del(name) {\n  delete this[secret][name];\n};\n\nURLSearchParamsProto.get = function get(name) {\n  var dict = this[secret];\n  return name in dict ? dict[name][0] : null;\n};\n\nURLSearchParamsProto.getAll = function getAll(name) {\n  var dict = this[secret];\n  return name in dict ? dict[name].slice(0) : [];\n};\n\nURLSearchParamsProto.has = function has(name) {\n  return name in this[secret];\n};\n\nURLSearchParamsProto.set = function set(name, value) {\n  this[secret][name] = ['' + value];\n};\n\nURLSearchParamsProto.forEach = function forEach(callback, thisArg) {\n  var dict = this[secret];\n  Object.getOwnPropertyNames(dict).forEach(function(name) {\n    dict[name].forEach(function(value) {\n      callback.call(thisArg, value, name, this);\n    }, this);\n  }, this);\n};\n\n/*\nURLSearchParamsProto.toBody = function() {\n  return new Blob(\n    [this.toString()],\n    {type: 'application/x-www-form-urlencoded'}\n  );\n};\n*/\n\nURLSearchParamsProto.toJSON = function toJSON() {\n  return {};\n};\n\nURLSearchParamsProto.toString = function toString() {\n  var dict = this[secret], query = [], i, key, name, value;\n  for (key in dict) {\n    name = encode(key);\n    for (\n      i = 0,\n      value = dict[key];\n      i < value.length; i++\n    ) {\n      query.push(name + '=' + encode(value[i]));\n    }\n  }\n  return query.join('&');\n};\n\nURLSearchParams = (module.exports = global.URLSearchParams || URLSearchParams);\n\n(function (URLSearchParamsProto) {\n\n  var iterable = (function () {\n    try {\n      return !!Symbol.iterator;\n    } catch(error) {\n      return false;\n    }\n  }());\n\n  // mostly related to issue #24\n  if (!('forEach' in URLSearchParamsProto)) {\n    URLSearchParamsProto.forEach = function forEach(callback, thisArg) {\n      var names = Object.create(null);\n      this.toString()\n          .replace(/=[\\s\\S]*?(?:&|$)/g, '=')\n          .split('=')\n          .forEach(function (name) {\n            if (!name.length || name in names) return;\n            (names[name] = this.getAll(name)).forEach(function(value) {\n              callback.call(thisArg, value, name, this);\n            }, this);\n          }, this);\n    };\n  }\n\n  if (!('keys' in URLSearchParamsProto)) {\n    URLSearchParamsProto.keys = function keys() {\n      var items = [];\n      this.forEach(function(value, name) { items.push(name); });\n      var iterator = {\n        next: function() {\n          var value = items.shift();\n          return {done: value === undefined, value: value};\n        }\n      };\n\n      if (iterable) {\n        iterator[Symbol.iterator] = function() {\n          return iterator;\n        };\n      }\n\n      return iterator;\n    };\n  }\n\n  if (!('values' in URLSearchParamsProto)) {\n    URLSearchParamsProto.values = function values() {\n      var items = [];\n      this.forEach(function(value) { items.push(value); });\n      var iterator = {\n        next: function() {\n          var value = items.shift();\n          return {done: value === undefined, value: value};\n        }\n      };\n\n      if (iterable) {\n        iterator[Symbol.iterator] = function() {\n          return iterator;\n        };\n      }\n\n      return iterator;\n    };\n  }\n\n  if (!('entries' in URLSearchParamsProto)) {\n    URLSearchParamsProto.entries = function entries() {\n      var items = [];\n      this.forEach(function(value, name) { items.push([name, value]); });\n      var iterator = {\n        next: function() {\n          var value = items.shift();\n          return {done: value === undefined, value: value};\n        }\n      };\n\n      if (iterable) {\n        iterator[Symbol.iterator] = function() {\n          return iterator;\n        };\n      }\n\n      return iterator;\n    };\n  }\n\n  if (iterable && !(Symbol.iterator in URLSearchParamsProto)) {\n    URLSearchParamsProto[Symbol.iterator] = URLSearchParamsProto.entries;\n  }\n\n  if (!('sort' in URLSearchParamsProto)) {\n    URLSearchParamsProto.sort = function sort() {\n      var\n        entries = this.entries(),\n        entry = entries.next(),\n        done = entry.done,\n        keys = [],\n        values = Object.create(null),\n        i, key, value\n      ;\n      while (!done) {\n        value = entry.value;\n        key = value[0];\n        keys.push(key);\n        if (!(key in values)) {\n          values[key] = [];\n        }\n        values[key].push(value[1]);\n        entry = entries.next();\n        done = entry.done;\n      }\n      // not the champion in efficiency\n      // but these two bits just do the job\n      keys.sort();\n      for (i = 0; i < keys.length; i++) {\n        this.delete(keys[i]);\n      }\n      for (i = 0; i < keys.length; i++) {\n        key = keys[i];\n        this.append(key, values[key].shift());\n      }\n    };\n  }\n\n}(URLSearchParams.prototype));\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_factory_1 = require(\"./base.factory\");\nvar engine_factory_1 = require(\"./engine.factory\");\nvar InterfaceFactory = (function (_super) {\n    tslib_1.__extends(InterfaceFactory, _super);\n    function InterfaceFactory() {\n        return _super.call(this) || this;\n    }\n    InterfaceFactory.prototype.add = function (name, instance, override) {\n        if (override === void 0) { override = false; }\n        _super.prototype.add.call(this, name, Object.assign(instance, {\n            delete: this.custom.bind(this, instance, \"DELETE\"),\n            execute: this.execute.bind(this, instance),\n            get: this.custom.bind(this, instance, \"GET\", null),\n            getFullPath: this.getFullPath.bind(this, instance),\n            getOne: this.custom.bind(this, instance, \"GET\"),\n            getPath: this.getPath.bind(this, instance),\n            post: this.custom.bind(this, instance, \"POST\", null),\n            put: this.custom.bind(this, instance, \"PUT\"),\n            replacePath: this.replacePath.bind(this, instance)\n        }), override);\n    };\n    InterfaceFactory.prototype.execute = function (instance, options) {\n        var otherOptions = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            otherOptions[_i - 2] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var engine, iinstance, _a, extraInstance, engineName, _b, defaultExecuteInfo, e_1;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = options.instance, extraInstance = _a === void 0 ? {} : _a;\n                        iinstance = this.megreInstance(instance, extraInstance);\n                        engineName = iinstance.engine, _b = iinstance.defaultExecuteInfo, defaultExecuteInfo = _b === void 0 ? {} : _b;\n                        if (!engine_factory_1.engineFactory.has(engineName || \"\")) {\n                            throw new Error(\"\\u6CA1\\u6709\\u53D1\\u73B0engine[\" + engineName + \"]\");\n                        }\n                        engine = engine_factory_1.engineFactory.use(engineName || \"default\");\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4, engine.validate(iinstance, options)];\n                    case 2:\n                        _c.sent();\n                        return [3, 4];\n                    case 3:\n                        e_1 = _c.sent();\n                        throw e_1;\n                    case 4: return [2, engine.proxy.apply(engine, [iinstance, Object.assign({}, defaultExecuteInfo, options)].concat(otherOptions))];\n                }\n            });\n        });\n    };\n    InterfaceFactory.prototype.custom = function (instance, type, id, options) {\n        if (options === void 0) { options = {}; }\n        var otherOptions = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            otherOptions[_i - 4] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, extraInstance, _b, params, iiinstance;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = options.instance, extraInstance = _a === void 0 ? {} : _a, _b = options.params, params = _b === void 0 ? {} : _b;\n                        extraInstance.method = type;\n                        if (id) {\n                            extraInstance.path = (extraInstance.path || instance.path) + \"/:__id__\";\n                            params.__id__ = id;\n                        }\n                        options.instance = extraInstance;\n                        options.params = params;\n                        return [4, this.execute.apply(this, [instance, options].concat(otherOptions))];\n                    case 1: return [2, _c.sent()];\n                }\n            });\n        });\n    };\n    InterfaceFactory.prototype.megreInstance = function (instance, extendInstance) {\n        if (extendInstance === void 0) { extendInstance = {}; }\n        return Object.assign({}, instance, extendInstance);\n    };\n    InterfaceFactory.prototype.executeEngineMethod = function (instance, extendInstance, method, options) {\n        if (extendInstance === void 0) { extendInstance = {}; }\n        if (options === void 0) { options = {}; }\n        var engine, methodFunc, iinstance;\n        iinstance = this.megreInstance(instance, extendInstance);\n        engine = engine_factory_1.engineFactory.use(\"default\");\n        methodFunc = engine[method];\n        if (methodFunc) {\n            return methodFunc.call(engine, iinstance, options);\n        }\n        return \"\";\n    };\n    InterfaceFactory.prototype.getPath = function (instance, extendInstance) {\n        if (extendInstance === void 0) { extendInstance = {}; }\n        var engine, iinstance;\n        iinstance = this.megreInstance(instance, extendInstance);\n        return this.executeEngineMethod(instance, extendInstance, \"getStatePath\") + iinstance.path;\n    };\n    InterfaceFactory.prototype.getFullPath = function (instance, options) {\n        if (options === void 0) { options = {}; }\n        return this.executeEngineMethod(instance, options.instance, \"getFullPath\", options);\n    };\n    InterfaceFactory.prototype.replacePath = function (instance, options) {\n        if (options === void 0) { options = {}; }\n        var engine, iinstance;\n        iinstance = this.megreInstance(instance, options.instance);\n        engine = engine_factory_1.engineFactory.use(\"default\");\n        return engine.replacePath(iinstance, options);\n    };\n    return InterfaceFactory;\n}(base_factory_1.BaseFactory));\nexports.InterfaceFactory = InterfaceFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar interface_factory_1 = require(\"./interface.factory\");\nvar engine_factory_1 = require(\"./engine.factory\");\nvar compose_1 = require(\"./compose\");\nvar errors_1 = require(\"./errors\");\nvar base_factory_1 = require(\"./base.factory\");\nvar ModelProxy = (function (_super) {\n    tslib_1.__extends(ModelProxy, _super);\n    function ModelProxy(defaultExecuteInfo) {\n        var _this = _super.call(this) || this;\n        _this.defaultExecuteInfo = defaultExecuteInfo;\n        _this.nsFactory = new base_factory_1.BaseFactory();\n        _this.forEach = _this.nsFactory.forEach.bind(_this.nsFactory);\n        return _this;\n    }\n    ModelProxy.prototype.addEngines = function (engines) {\n        for (var key in engines) {\n            if (engines.hasOwnProperty(key)) {\n                engine_factory_1.engineFactory.add(key, engines[key], true);\n            }\n        }\n        return this;\n    };\n    ModelProxy.prototype.loadConfig = function (config, overrideInterfaceConfig) {\n        var nsFactory = this.nsFactory.get(config.key);\n        if (!nsFactory) {\n            this.nsFactory.add(config.key, this.initInterfaces(new interface_factory_1.InterfaceFactory(), config, overrideInterfaceConfig));\n            return this;\n        }\n        this.nsFactory.add(config.key, this.initInterfaces(nsFactory, config, overrideInterfaceConfig));\n        return this;\n    };\n    ModelProxy.prototype.execute = function (ns, key, options) {\n        if (options === void 0) { options = {}; }\n        var otherOptions = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            otherOptions[_i - 3] = arguments[_i];\n        }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var interfaces, instance;\n            return tslib_1.__generator(this, function (_a) {\n                interfaces = this.getNs(ns), instance = interfaces.get(key);\n                if (!instance) {\n                    throw new errors_1.ModelProxyMissingError(\"\\u6CA1\\u6709\\u53D1\\u73B0/\" + ns + \"/\" + key + \"\\u7684\\u63A5\\u53E3\\u65B9\\u6CD5\\uFF01\");\n                }\n                return [2, instance.execute.apply(instance, [options].concat(otherOptions))];\n            });\n        });\n    };\n    ModelProxy.prototype.executeAll = function (inters) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var maps;\n            return tslib_1.__generator(this, function (_a) {\n                maps = [];\n                if (!inters || !Object.keys(inters).length) {\n                    return [2, new Promise(function (resolve) {\n                            resolve(null);\n                        })];\n                }\n                Object.keys(inters).forEach(function (key) {\n                    maps.push(inters[key]().then(function (data) {\n                        return _a = {},\n                            _a[key] = data,\n                            _a;\n                        var _a;\n                    }));\n                });\n                return [2, Promise.all(maps).then(function (data) {\n                        return data.reduce(function (prev, next) {\n                            return Object.assign({}, prev, next);\n                        });\n                    })];\n            });\n        });\n    };\n    ModelProxy.prototype.race = function (inters) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var maps;\n            return tslib_1.__generator(this, function (_a) {\n                maps = inters.map(function (inter) {\n                    if (inter.then) {\n                        return inter;\n                    }\n                    var _a = inter, _b = _a.ns, ns = _b === void 0 ? \"\" : _b, _c = _a.key, key = _c === void 0 ? \"\" : _c, _d = _a.options, options = _d === void 0 ? {} : _d, _e = _a.otherOptions, otherOptions = _e === void 0 ? [] : _e;\n                    return _this.execute.apply(_this, [ns, key, options].concat(otherOptions));\n                });\n                return [2, Promise.race(maps)];\n            });\n        });\n    };\n    ModelProxy.prototype.hasNs = function (ns) {\n        return !!this.nsFactory.get(ns);\n    };\n    ModelProxy.prototype.getNs = function (ns) {\n        if (!this.hasNs(ns)) {\n            throw new errors_1.ModelProxyMissingError(\"\\u6CA1\\u6709\\u627E\\u5230\" + ns + \"\\u7A7A\\u95F4;\");\n        }\n        return this.nsFactory.use(ns);\n    };\n    ModelProxy.prototype.minix = function (ns) {\n        var keys = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            keys[_i - 1] = arguments[_i];\n        }\n        return this.mixin.apply(this, [ns].concat(keys));\n    };\n    ModelProxy.prototype.mixin = function (ns) {\n        var keys = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            keys[_i - 1] = arguments[_i];\n        }\n        if (!keys.length) {\n            throw new errors_1.ModelProxyMissingError(\"\\u5FC5\\u987B\\u5236\\u5B9A\\u81F3\\u5C11\\u4E00\\u4E2AKey\\uFF01\");\n        }\n        var interfaces = this.getNs(ns), idKeys = [], lastKey = keys.pop(), lastInterface = interfaces.get(lastKey);\n        if (!lastInterface) {\n            return null;\n        }\n        keys.forEach(function (k) {\n            var instance = interfaces.get(k);\n            if (!instance) {\n                throw new errors_1.ModelProxyMissingError(k + \"\\u4E0D\\u5B58\\u5728\\u4E8E\\u7A7A\\u95F4\" + ns + \"\\uFF01\");\n            }\n            idKeys.push(instance);\n        });\n        return function () {\n            var ids = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                ids[_i] = arguments[_i];\n            }\n            if (ids.length !== idKeys.length) {\n                throw new Error(\"\\u4F20\\u5165\\u7684\\u53C2\\u6570\\u4E2A\\u6570\\u4E0D\\u6B63\\u786E\\uFF01\");\n            }\n            var paths = [];\n            idKeys.forEach(function (k, idx) {\n                paths.push(k.replacePath({\n                    instance: {\n                        path: k.path + \"/:\" + k.key\n                    },\n                    params: (_a = {},\n                        _a[k.key] = ids[idx],\n                        _a)\n                }));\n                var _a;\n            });\n            lastInterface.path = paths.concat([lastInterface.path]).join(\"\");\n            return lastInterface;\n        };\n    };\n    ModelProxy.prototype.initInterfaces = function (ifFactory, config, overrideInterfaceConfig) {\n        var _this = this;\n        if (overrideInterfaceConfig === void 0) { overrideInterfaceConfig = {}; }\n        config.interfaces.forEach(function (i) {\n            var interModel = Object.assign({}, {\n                engine: config.engine,\n                mockDir: config.mockDir,\n                ns: config.key,\n                state: config.state,\n                states: config.states,\n                defaultExecuteInfo: _this.defaultExecuteInfo\n            }, i, overrideInterfaceConfig || {});\n            ifFactory.add(i.key, interModel, true);\n        });\n        return ifFactory;\n    };\n    return ModelProxy;\n}(compose_1.Compose));\nexports.ModelProxy = ModelProxy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar proxy_1 = require(\"./libs/proxy\");\nexports.ModelProxy = proxy_1.ModelProxy;\nvar compose_1 = require(\"./libs/compose\");\nexports.Compose = compose_1.Compose;\nvar engine_factory_1 = require(\"./libs/engine.factory\");\nexports.engineFactory = engine_factory_1.engineFactory;\nvar errors_1 = require(\"./libs/errors\");\nexports.BaseError = errors_1.BaseError;\nexports.ModelProxyMissingError = errors_1.ModelProxyMissingError;\nvar engine_base_1 = require(\"./engines/engine.base\");\nexports.BaseEngine = engine_base_1.BaseEngine;\nvar engine_def_1 = require(\"./engines/engine.def\");\nexports.DefaultEngine = engine_def_1.DefaultEngine;\nvar base_factory_1 = require(\"./libs/base.factory\");\nexports.BaseFactory = base_factory_1.BaseFactory;\nvar engine_cache_1 = require(\"./engines/engine.cache\");\nexports.cacheDec = engine_cache_1.cacheDec;\nexports.promiseFactory = engine_cache_1.promiseFactory;\n"],"sourceRoot":""}